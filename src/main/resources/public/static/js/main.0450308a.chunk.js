(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{133:function(e,t,a){e.exports=a(171)},140:function(e,t,a){},171:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(120),l=a.n(c),o=(a(140),a(44)),i=a(173),s=a(129),u=a(181),m=a(189),f=a(190),d="".concat("","/login"),h=function(e){var t=new FormData;return t.append("username",e.username),t.append("password",e.password),fetch(d,{method:"POST",credentials:"include",body:t}).then(function(e){if(204!==e.status)throw Error("Fail to log in")})},E="".concat("","/register"),g=function(e){return fetch(E,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then(function(e){if(200!==e.status)throw Error("Fail to register")})},p="".concat("","/logout"),b=function(){return fetch(p,{method:"POST",credentials:"include"}).then(function(e){if(204!==e.status)throw Error("Fail to log out")})},y="".concat("","/game"),v=function(){return fetch(y).then(function(e){if(200!==e.status)throw Error("Fail to get top games");return e.json()})},w="".concat("","/game?game_name="),S="".concat("","/search?game_id="),O=function(e){return fetch("".concat(S).concat(e)).then(function(e){if(200!==e.status)throw Error("Fail to find the game");return e.json()})},F=function(e){return function(e){return fetch("".concat(w).concat(e)).then(function(e){if(200!==e.status)throw Error("Fail to find the game");return e.json()})}(e).then(function(e){if(e&&e[0].id)return O(e[0].id);throw Error("Fail to find the game")})},j="".concat("","/favorite"),k=function(){return fetch(j,{credentials:"include"}).then(function(e){if(200!==e.status)throw Error("Fail to get favorite item");return e.json()})},C="".concat("","/recommendation"),I=function(){return fetch(C,{credentials:"include"}).then(function(e){if(200!==e.status)throw Error("Fail to get recommended item");return e.json()})},P=a(174),_=a(175),x=a(64);var T=function(e){var t=e.items;return null===t||void 0===t?void 0:t.map(function(e){return r.a.createElement(u.a.Item,{key:e.id},r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer"},"".concat(e.broadcaster_name," - ").concat(e.title)))})},R=a(182),L=a(183),q=a(131),J=a(184),N=a(185),M=u.a.SubMenu;var U=function(e){var t=e.favoriteItems,a=Object(n.useState)(!1),c=Object(o.a)(a,2),l=c[0],i=c[1],s=t.videos,m=t.streams,f=t.clips;return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{type:"primary",shape:"round",onClick:function(){i(!0)},icon:r.a.createElement(L.a,null)},"My Favorites"),r.a.createElement(R.a,{title:"My Favorites",placement:"right",width:720,visible:l,onClose:function(){i(!1)}},r.a.createElement(u.a,{mode:"inline",defaultOpenKeys:["streams"],style:{height:"100%",borderRight:0},selectable:!1},r.a.createElement(M,{key:"streams",icon:r.a.createElement(q.a,null),title:"Streams"},r.a.createElement(T,{items:m})),r.a.createElement(M,{key:"videos",icon:r.a.createElement(J.a,null),title:"Videos"},r.a.createElement(T,{items:s})),r.a.createElement(M,{key:"clips",icon:r.a.createElement(N.a,null),title:"Clips"},r.a.createElement(T,{items:f})))))},D=a(180),V=a(177),A=a(179),B=a(186),G=a(187);var H=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{shape:"round",type:"primary",onClick:function(){c(!0)}},"Register"),r.a.createElement(D.a,{title:"Register",visible:a,onCancel:function(){c(!1)},footer:null,destroyOnClose:!0},r.a.createElement(V.a,{name:"normal_register",initialValues:{remember:!0},onFinish:function(e){g(e).then(function(){c(!1),s.b.success("Successfully signed up")}).catch(function(e){s.b.error(e.message)})},preserve:!1},r.a.createElement(V.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}]},r.a.createElement(A.a,{prefix:r.a.createElement(B.a,null),placeholder:"Username"})),r.a.createElement(V.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(A.a,{prefix:r.a.createElement(G.a,null),placeholder:"Password"})),r.a.createElement(V.a.Item,{name:"first_name",rules:[{required:!0,message:"Please input your Firstname!"}]},r.a.createElement(A.a,{placeholder:"firstname"})),r.a.createElement(V.a.Item,{name:"last_name",rules:[{required:!0,message:"Please input your Lastname!"}]},r.a.createElement(A.a,{placeholder:"lastname"})),r.a.createElement(V.a.Item,null,r.a.createElement(x.a,{type:"primary",htmlType:"submit"},"Register")))))};var K=function(e){var t=e.onSuccess,a=Object(n.useState)(!1),c=Object(o.a)(a,2),l=c[0],i=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{shape:"round",onClick:function(){i(!0)},style:{marginRight:"20px"}},"Login"),r.a.createElement(D.a,{title:"Log in",visible:l,onCancel:function(){i(!1)},footer:null,destroyOnClose:!0},r.a.createElement(V.a,{name:"normal_login",onFinish:function(e){h(e).then(function(){i(!1),s.b.success("Welcome back"),t()}).catch(function(e){s.b.error(e.message)})},preserve:!1},r.a.createElement(V.a.Item,{name:"username",rules:[{required:!0,message:"Please input your Username!"}]},r.a.createElement(A.a,{prefix:r.a.createElement(B.a,null),placeholder:"Username"})),r.a.createElement(V.a.Item,{name:"password",rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(A.a.Password,{prefix:r.a.createElement(G.a,null),placeholder:"Password"})),r.a.createElement(V.a.Item,null,r.a.createElement(x.a,{type:"primary",htmlType:"submit"},"Login")))))},W=i.a.Header;var z=function(e){var t=e.loggedIn,a=e.signoutOnClick,n=e.signinOnSuccess,c=e.favoriteItems;return r.a.createElement(W,null,r.a.createElement(P.a,{justify:"space-between"},r.a.createElement(_.a,null,t&&r.a.createElement(U,{favoriteItems:c})),r.a.createElement(_.a,null,t&&r.a.createElement(x.a,{shape:"round",onClick:a},"Logout"),!t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(K,{onSuccess:n}),r.a.createElement(H,null)))))},Q=a(110);var X=function(e){var t=e.onSuccess,a=Object(n.useState)(!1),c=Object(o.a)(a,2),l=c[0],i=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(x.a,{shape:"round",onClick:function(){i(!0)},icon:r.a.createElement(Q.a,null),style:{marginLeft:"20px",marginTop:"20px"}},"Custom Search"),r.a.createElement(D.a,{title:"Search",visible:l,onCancel:function(){i(!1)},footer:null},r.a.createElement(V.a,{name:"custom_search",onFinish:function(e){F(e.game_name).then(function(e){i(!1),t(e)}).catch(function(e){s.b.error(e.message)})}},r.a.createElement(V.a.Item,{name:"game_name",rules:[{required:!0,message:"Please enter a game name"}]},r.a.createElement(A.a,{placeholder:"Game name"})),r.a.createElement(V.a.Item,null,r.a.createElement(x.a,{type:"primary",htmlType:"submit"},"Search")))))},Y=a(126),Z=a(101),$=a(176),ee=a(178),te=a(188),ae=Y.a.TabPane,ne="stream",re="videos",ce="clips",le=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3?arguments[3]:void 0,c="".concat(e.broadcaster_name," - ").concat(e.title),l=a.find(function(t){return t.twitch_id===e.twitch_id});return r.a.createElement(r.a.Fragment,null,t&&r.a.createElement(Z.a,{title:l?"Remove from favorite list":"Add to favorite list"},r.a.createElement(x.a,{shape:"circle",icon:l?r.a.createElement(L.a,null):r.a.createElement(te.a,null),onClick:function(){var t;l?(t=e,fetch(j,{method:"DELETE",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({favorite:t})}).then(function(e){if(200!==e.status)throw Error("Fail to delete favorite item")})).then(function(){n()}).catch(function(e){s.b.error(e.message)}):function(e){return fetch(j,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({favorite:e})}).then(function(e){if(200!==e.status)throw Error("Fail to add favorite item")})}(e).then(function(){n()}).catch(function(e){s.b.error(e.message)})}})),r.a.createElement("div",{style:{overflow:"hidden",textOverflow:"ellipsis",width:450}},r.a.createElement(Z.a,{title:c},r.a.createElement("span",null,c))))},oe=function(e,t,a,n){return r.a.createElement($.b,{grid:{xs:1,sm:2,md:4,lg:4,xl:6},dataSource:e,renderItem:function(e){return r.a.createElement($.b.Item,{style:{marginRight:"20px"}},r.a.createElement(ee.a,{title:le(e,t,a,n)},r.a.createElement("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",style:{width:"100%",height:"100%"}},r.a.createElement("img",{alt:"Placeholder",src:(c=e.thumbnail_url,c.replace("%{height}","252").replace("%{width}","480").replace("{height}","252").replace("{width}","480")),style:{width:"100%",height:"100%"}}))));var c}})},ie=function(e){var t=e.resources,a=e.loggedIn,n=e.favoriteItems,c=e.favoriteOnChange,l=t.videos,o=t.streams,i=t.clips,s=n.videos,u=n.streams,m=n.clips;return r.a.createElement(Y.a,{defaultActiveKey:ne},r.a.createElement(ae,{tab:"Streams",key:ne,forceRender:!0},oe(o,a,u,c)),r.a.createElement(ae,{tab:"Videos",key:re,forceRender:!0},oe(l,a,s,c)),r.a.createElement(ae,{tab:"Clips",key:ce,forceRender:!0},oe(i,a,m,c)))},se=i.a.Header,ue=i.a.Content,me=i.a.Sider;var fe=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],c=t[1],l=Object(n.useState)([]),d=Object(o.a)(l,2),h=d[0],E=d[1],g=Object(n.useState)([]),p=Object(o.a)(g,2),y=p[0],w=p[1],S=Object(n.useState)({videos:[],streams:[],clips:[]}),F=Object(o.a)(S,2),j=F[0],C=F[1];return Object(n.useEffect)(function(){v().then(function(e){w(e)}).catch(function(e){s.b.error(e.message)})},[]),r.a.createElement(i.a,null,r.a.createElement(se,null,r.a.createElement(z,{loggedIn:a,signoutOnClick:function(){b().then(function(){c(!1),s.b.success("Successfully Signed out")}).catch(function(e){s.b.error(e.message)})},signinOnSuccess:function(){c(!0),k().then(function(e){E(e)})},favoriteItems:h})),r.a.createElement(i.a,null,r.a.createElement(me,{width:300,className:"site-layout-background"},r.a.createElement(X,{onSuccess:function(e){C(e)}}),r.a.createElement(u.a,{mode:"inline",onSelect:function(e){var t=e.key;"recommendation"!==t?O(t).then(function(e){C(e)}):I().then(function(e){C(e)})},style:{marginTop:"10px"},items:function(e){return[{label:"Recommend for you!",key:"recommendation",icon:r.a.createElement(m.a,null)},{label:"Popular Games",key:"popular_games",icon:r.a.createElement(f.a,null),children:e.map(function(e){return{label:e.name,key:e.id,icon:r.a.createElement("img",{alt:"placeholder",src:e.box_art_url.replace("{height}","40").replace("{width}","40"),style:{borderRadius:"50%",marginRight:"20px"}})}})}]}(y)})),r.a.createElement(i.a,{style:{padding:"24px"}},r.a.createElement(ue,{className:"site-layout-background",style:{padding:24,margin:0,height:800,overflow:"auto"}},r.a.createElement(ie,{resources:j,loggedIn:a,favoriteOnChange:function(){k().then(function(e){E(e)}).catch(function(e){s.b.error(e.message)})},favoriteItems:h})))))},de=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,191)).then(function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,l=t.getTTFB;a(e),n(e),r(e),c(e),l(e)})};l.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(fe,null))),de()}},[[133,1,2]]]);
//# sourceMappingURL=main.0450308a.chunk.js.map